{"ast":null,"code":"var _jsxFileName = \"/home/artem/itmo/MPI/gitrepo/PreCrime_Reborn/frontend/src/components/boss_group/AppointGroup.js\";\nimport React, { Component } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass AppointGroup extends Component {\n  constructor(props) {\n    super(props);\n    this.handleRowsClick = id => {\n      const {\n        selectedRows\n      } = this.state;\n      const isSelected = selectedRows.includes(id);\n      if (isSelected) {\n        this.setState({\n          selectedRows: selectedRows.filter(selectedId => selectedId !== id)\n        });\n      } else {\n        this.setState({\n          selectedRows: [...selectedRows, id]\n        }, () => {\n          console.log(id);\n        });\n      }\n    };\n    this.appointing = () => {\n      const token = localStorage.getItem('jwtToken');\n      const {\n        selectedRows\n      } = this.state;\n      const {\n        idCr\n      } = this.props;\n      const grr = selectedRows.length !== 0 ? selectedRows.length === 1 ? [selectedRows] : selectedRows : [];\n      console.log(grr);\n      if (selectedRows.length !== 0) {\n        fetch(`http://localhost:8028/api/v1/reactiongroup/criminal/${idCr}`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}` // Добавляем токен в заголовок\n          },\n\n          body: JSON.stringify(grr)\n        }).then(response => {\n          if (!response.ok) {\n            throw new Error(`HTTP error! Status: ${response.status}`);\n          }\n          return response.text();\n        }).then(data => {\n          console.log(data);\n          this.props.onRenew();\n        }).catch(error => {\n          console.error('Ошибка при запросе к серверу:', error);\n        });\n        this.props.onClose();\n      } else {\n        window.alert(\"choose men\");\n      }\n    };\n    this.state = {\n      selectedRows: []\n    };\n  }\n  render() {\n    const {\n      groupList,\n      onClose\n    } = this.props;\n    const {\n      selectedRows\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content-appoint\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"close\",\n          onClick: onClose,\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"form-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"bg-rg\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"table-label\",\n                  children: \"ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"table-label\",\n                  children: \"Member Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"table-label\",\n                  children: \"Telegram ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"table-label\",\n                  children: \"in Operation\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: groupList ? groupList.map(group => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: this.state.selectedRows.includes(group.id) ? 'selected-row' : '',\n                onClick: () => this.handleRowsClick(group.id),\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"table-label-edit\",\n                  children: group.id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"table-label-edit\",\n                  children: group.memberName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"table-label-edit\",\n                  children: group.telegramId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"table-label-edit\",\n                  children: group.inOperation ? 'Yes' : 'No'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 45\n                }, this)]\n              }, group.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 41\n              }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"table-label-edit\",\n                  colSpan: \"4\",\n                  children: \"No group data available\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"button-tr\",\n            onClick: this.appointing,\n            children: \"Appoint Group\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }, this);\n  }\n}\nexport default AppointGroup;","map":{"version":3,"names":["React","Component","jsxDEV","_jsxDEV","AppointGroup","constructor","props","handleRowsClick","id","selectedRows","state","isSelected","includes","setState","filter","selectedId","console","log","appointing","token","localStorage","getItem","idCr","grr","length","fetch","method","headers","body","JSON","stringify","then","response","ok","Error","status","text","data","onRenew","catch","error","onClose","window","alert","render","groupList","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","map","group","memberName","telegramId","inOperation","colSpan","type"],"sources":["/home/artem/itmo/MPI/gitrepo/PreCrime_Reborn/frontend/src/components/boss_group/AppointGroup.js"],"sourcesContent":["import React, { Component } from 'react';\n\nclass AppointGroup extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            selectedRows: [],\n        };\n    }\n\n    handleRowsClick = (id) => {\n        const { selectedRows } = this.state;\n        const isSelected = selectedRows.includes(id);\n        if (isSelected) {\n\n            this.setState({\n                selectedRows: selectedRows.filter(selectedId => selectedId !== id),\n            });\n        } else {\n\n            this.setState({\n                selectedRows: [...selectedRows, id],\n            }, ()=>{console.log(id)});\n        }\n\n\n    };\n\n    appointing = () => {\n        const token = localStorage.getItem('jwtToken');\n        const { selectedRows } = this.state\n        const { idCr } = this.props\n\n        const grr = selectedRows.length !== 0 ? (selectedRows.length === 1 ? [selectedRows] : selectedRows) : [];\n        console.log(grr)\n        if (selectedRows.length !== 0) {\n            fetch(`http://localhost:8028/api/v1/reactiongroup/criminal/${idCr}`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${token}`, // Добавляем токен в заголовок\n                },\n                body: JSON.stringify(grr),\n            })\n                .then(response => {\n                    if (!response.ok) {\n                        throw new Error(`HTTP error! Status: ${response.status}`);\n                    }\n\n                    return response.text();\n                })\n                .then(data => {\n                    console.log(data);\n                    this.props.onRenew();\n                })\n                .catch(error => {\n                    console.error('Ошибка при запросе к серверу:', error);\n                });\n\n            this.props.onClose();\n        }\n        else\n        {\n            window.alert(\"choose men\")\n        }\n\n    };\n\n\n    render() {\n        const { groupList, onClose } = this.props;\n        const { selectedRows } = this.state;\n\n        return (<div className=\"modal\">\n                    <div className=\"modal-content-appoint\">\n                        <span className=\"close\" onClick={onClose}>&times;</span>\n                        <form className=\"form-content\">\n                                <table className=\"bg-rg\">\n                                    <thead>\n                                    <tr>\n                                        <th className=\"table-label\">ID</th>\n                                        <th className=\"table-label\">Member Name</th>\n                                        <th className=\"table-label\">Telegram ID</th>\n                                        <th className=\"table-label\">in Operation</th>\n                                    </tr>\n                                    </thead>\n                                    <tbody>\n\n                                    {groupList ? (groupList.map((group) => (\n                                        <tr\n                                            key={group.id}\n                                            className={this.state.selectedRows.includes(group.id) ? 'selected-row' : ''}\n                                            onClick={() => this.handleRowsClick(group.id)}\n                                        >\n                                            <td className=\"table-label-edit\">{group.id}</td>\n                                            <td className=\"table-label-edit\">{group.memberName}</td>\n                                            <td className=\"table-label-edit\">{group.telegramId}</td>\n                                            <td className=\"table-label-edit\">{group.inOperation ? 'Yes' : 'No'}</td>\n                                        </tr>\n                                    )))\n                                    : (\n                                            <tr>\n                                                <td className=\"table-label-edit\"\n                                                    colSpan=\"4\">No group data available</td>\n                                            </tr>\n                                        )}\n                                    </tbody>\n                                </table>\n                            <br/>\n                                <button type=\"button\" className=\"button-tr\" onClick={this.appointing}>Appoint Group</button>\n                        </form>\n                        </div>\n                    </div>\n        );\n    }\n}\n\nexport default AppointGroup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}