{"ast":null,"code":"import _classCallCheck from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import Header from\"../Header\";import BurgerMenu from\"../BurgerMenu\";import Profile from\"../profile\";import PrecogsList from\"./PrecogsList\";import VisionList from\"../visions/VisionList\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Precogs=/*#__PURE__*/function(_Component){_inherits(Precogs,_Component);var _super=_createSuper(Precogs);function Precogs(props){var _this;_classCallCheck(this,Precogs);_this=_super.call(this,props);_this.openModal=function(){_this.setState({showModal:true});_this.setState({showModal_2:false});};_this.closeModal=function(){_this.setState({showModal:false});_this.setState({showModal_2:true});_this.fetchPsychics();};_this.openModal_2=function(){_this.setState({showModal_2:true});_this.setState({showModal:false});};_this.closeModal_2=function(){_this.setState({showModal_2:false});_this.setState({showModal:false});_this.fetchPsychics();};_this.fetchPsychics=function(){var token=localStorage.getItem('jwtToken');fetch('api/v1/precogs',{method:'GET',// или другой метод\nheaders:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)// Добавляем токен в заголовок\n}}).then(function(response){if(!response.ok){throw new Error(\"HTTP error! Status: \".concat(response.status));}return response.json();}).then(function(data){_this.setState({psychics:data});}).catch(function(error){console.error('Ошибка при запросе к серверу:',error);});};_this.state={showModal:false,showModal_2:false,psychics:null,visions:null,selectedPsychic:null};return _this;}_createClass(Precogs,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchPsychics();}},{key:\"render\",value:function render(){var selectedPsychic=this.state.selectedPsychic;var _this$props=this.props,onChange=_this$props.onChange,me=_this$props.me;var visibleRoles=[\"DETECTIVE\",\"AUDITOR\",\"REACTIONGROUP\",\"TECHNIC\"];var rolesToDisplay=visibleRoles.filter(function(role){return me.roles.includes(role);});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{pullRole:this.props.pullRole,isLogged:this.props.isLogged,onChange:onChange,rol:me.roles,me:me}),/*#__PURE__*/_jsx(BurgerMenu,{onClose:this.closeBurger,roles:rolesToDisplay,updatePull:this.props.pullRole}),/*#__PURE__*/_jsx(\"div\",{className:\"frame-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"rectangle-2\",children:[this.state.showModal&&/*#__PURE__*/_jsx(VisionList,{onClose:this.closeModal}),this.state.showModal_2&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(PrecogsList,{onClose:this.closeModal_2,onRenew:this.fetchPsychics})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"frame-but\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"rectangle-but\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"check-vision\",onClick:this.openModal,children:\"Visions\"}),/*#__PURE__*/_jsx(\"button\",{className:\"check-precogs\",onClick:this.openModal_2,children:\"Precogs\"})]})})]});}}]);return Precogs;}(Component);export default Precogs;","map":{"version":3,"names":["React","Component","Header","BurgerMenu","Profile","PrecogsList","VisionList","jsx","_jsx","jsxs","_jsxs","Precogs","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","openModal","setState","showModal","showModal_2","closeModal","fetchPsychics","openModal_2","closeModal_2","token","localStorage","getItem","fetch","method","headers","concat","then","response","ok","Error","status","json","data","psychics","catch","error","console","state","visions","selectedPsychic","_createClass","key","value","componentDidMount","render","_this$props","onChange","me","visibleRoles","rolesToDisplay","filter","role","roles","includes","children","pullRole","isLogged","rol","onClose","closeBurger","updatePull","className","onRenew","onClick"],"sources":["/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/src/components/Technic/Precogs.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Header from \"../Header\";\nimport BurgerMenu from \"../BurgerMenu\";\nimport Profile from \"../profile\";\nimport PrecogsList from \"./PrecogsList\";\nimport VisionList from \"../visions/VisionList\";\n\nclass Precogs extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            showModal: false,\n            showModal_2: false,\n            psychics: null,\n            visions:null,\n            selectedPsychic: null,\n\n        };\n    }\n\n    openModal = () => {\n        this.setState({ showModal: true });\n        this.setState({ showModal_2: false });\n    };\n\n    closeModal = () => {\n        this.setState({ showModal: false});\n        this.setState({ showModal_2: true });\n        this.fetchPsychics();\n    };\n\n    openModal_2 = () => {\n        this.setState({ showModal_2: true });\n        this.setState({showModal: false});\n    };\n\n    closeModal_2 = () => {\n        this.setState({showModal_2: false});\n        this.setState({showModal: false});\n        this.fetchPsychics();\n    };\n\n    componentDidMount() {\n        this.fetchPsychics();\n    }\n\n\n\n\n\n    fetchPsychics = () => {\n        const token = localStorage.getItem('jwtToken');\n        fetch('api/v1/precogs', {\n            method: 'GET', // или другой метод\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`, // Добавляем токен в заголовок\n            },\n        })\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error(`HTTP error! Status: ${response.status}`);\n                }\n                return response.json();\n            })\n            .then(data => {\n                this.setState({ psychics: data });\n            })\n            .catch(error => {\n                console.error('Ошибка при запросе к серверу:', error);\n            });\n    };\n\n\n    render() {\n        const { selectedPsychic } = this.state;\n        const { onChange, me } = this.props\n        const visibleRoles = [\"DETECTIVE\", \"AUDITOR\", \"REACTIONGROUP\",\"TECHNIC\"];\n        const rolesToDisplay = visibleRoles.filter(role => me.roles.includes(role));\n        return (<div>\n                <Header pullRole={this.props.pullRole} isLogged={this.props.isLogged} onChange={onChange} rol={me.roles} me={me}/>\n                <BurgerMenu onClose={this.closeBurger} roles={rolesToDisplay} updatePull={this.props.pullRole}/>\n\n\n                <div className=\"frame-2\">\n                    <div className=\"rectangle-2\">\n                        {this.state.showModal && <VisionList onClose={this.closeModal}/>}\n                        {this.state.showModal_2 &&\n                            (<div>\n                                <PrecogsList onClose={this.closeModal_2} onRenew={this.fetchPsychics} />\n                            </div>)}\n                    </div>\n\n                </div>\n                <div className=\"frame-but\">\n                    <div className=\"rectangle-but\">\n                        <button className=\"check-vision\" onClick={this.openModal}>Visions</button>\n                        <button className=\"check-precogs\" onClick={this.openModal_2}>Precogs</button>\n                    </div>\n                </div>\n\n            </div>\n        );\n    }\n}\n\nexport default Precogs;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}