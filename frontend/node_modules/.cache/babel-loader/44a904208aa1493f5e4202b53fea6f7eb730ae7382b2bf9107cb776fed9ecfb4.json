{"ast":null,"code":"import _defineProperty from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Refuel=/*#__PURE__*/function(_Component){_inherits(Refuel,_Component);var _super=_createSuper(Refuel);function Refuel(props){var _this;_classCallCheck(this,Refuel);_this=_super.call(this,props);_this.handleInputChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;if(value>=0&&value<=10000){_this.setState(_defineProperty({},name,value));};};_this.handleKeyDown=function(event){if(event.key==='+'||event.key==='-'||event.key==='.'||event.key===','){event.preventDefault();}};_this.handleSubmit=function(){var token=localStorage.getItem('jwtToken');var FormData=require('form-data');var form=new FormData();form.append('amount',_this.state.amount);if(_this.props.reff){fetch(\"api/v1/reactiongroup/transport/\".concat(_this.props.idTr,\"/refuel\"),{method:'PUT',headers:{'Authorization':\"Bearer \".concat(token)},body:form}).then(function(response){if(!response.ok){// Если статус ответа не 2xx (успех), бросаем ошибку\nthrow new Error(response.status);}_this.props.onRenew();}).catch(function(error){if(error.message===\"400\")window.alert(\"Purchases shouldn't be more then max possible amount\");if(error.message===\"404\")window.alert(\"You don't choose position\");});}if(_this.props.amm){fetch(\"api/v1/reactiongroup/supply/\".concat(_this.props.idTr),{method:'PUT',headers:{'Authorization':\"Bearer \".concat(token)},body:form}).then(function(response){if(!response.ok){// Если статус ответа не 2xx (успех), бросаем ошибку\nthrow new Error(response.status);}_this.props.onRenew();}).catch(function(error){if(error.message===\"400\")window.alert(\"Purchases shouldn't be more then max possible amount\");if(error.message===\"404\")window.alert(\"You don't choose position\");});_this.props.onRenew();}_this.props.onClose();};_this.state={amount:0,idTr:0};return _this;}_createClass(Refuel,[{key:\"render\",value:function render(){var onClose=this.props.onClose;var amount=this.state.amount;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content-precog\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"close\",onClick:onClose,children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"h-style\",children:\"Purchase\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"form-tr\",children:[/*#__PURE__*/_jsx(\"table\",{className:\"bg-rg\",children:/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"table-label-pr\",children:\"Amount:\"}),/*#__PURE__*/_jsx(\"td\",{className:\"table-label-edit\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"amount\",value:amount===''?this.setState({amount:0}):amount,onChange:this.handleInputChange,onKeyDown:this.handleKeyDown})})]})})}),/*#__PURE__*/_jsx(\"button\",{className:\"button-tr\",type:\"button\",onClick:this.handleSubmit,children:\"Submit\"})]})]})})});}}]);return Refuel;}(Component);export default Refuel;","map":{"version":3,"names":["React","Component","jsx","_jsx","jsxs","_jsxs","Refuel","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","handleInputChange","event","_event$target","target","name","value","setState","_defineProperty","handleKeyDown","key","preventDefault","handleSubmit","token","localStorage","getItem","FormData","require","form","append","state","amount","reff","fetch","concat","idTr","method","headers","body","then","response","ok","Error","status","onRenew","catch","error","message","window","alert","amm","onClose","_createClass","render","children","className","onClick","type","onChange","onKeyDown"],"sources":["/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/src/components/boss_group/Refuel.js"],"sourcesContent":["import React, { Component } from 'react';\n\nclass Refuel extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            amount: 0,\n            idTr:0,\n\n        };\n\n    }\n\n    handleInputChange = (event) => {\n        const { name, value } = event.target;\n        if(value>=0 && value<=10000)\n        {this.setState({ [name]: value })};\n    };\n\n    handleKeyDown = (event) => {\n        if (event.key === '+' || event.key === '-' || event.key === '.' || event.key === ',') {\n            event.preventDefault();\n        }\n\n    }\n\n    handleSubmit = () => {\n        const token = localStorage.getItem('jwtToken');\n        const FormData = require('form-data');\n        const form = new FormData();\n        form.append('amount', this.state.amount);\n        if (this.props.reff)\n        {fetch(`api/v1/reactiongroup/transport/${this.props.idTr}/refuel`, {\n            method: 'PUT',\n            headers: {\n                'Authorization': `Bearer ${token}`,\n            },\n            body: form,\n        })\n            .then(response => {\n                if (!response.ok) {\n                    // Если статус ответа не 2xx (успех), бросаем ошибку\n                    throw new Error(response.status);\n                }\n                this.props.onRenew();\n            })\n            .catch(error => {\n                if (error.message ===\"400\")\n                    window.alert(\"Purchases shouldn't be more then max possible amount\");\n                if (error.message ===\"404\")\n                    window.alert(\"You don't choose position\");\n            });\n        }\n\n        if (this.props.amm)\n        {\n            fetch(`api/v1/reactiongroup/supply/${this.props.idTr}`, {\n                method: 'PUT',\n                headers: {\n                    'Authorization': `Bearer ${token}`,\n                },\n                body: form,\n            })\n                .then(response => {\n                    if (!response.ok) {\n                        // Если статус ответа не 2xx (успех), бросаем ошибку\n                        throw new Error(response.status);\n                    }\n                    this.props.onRenew();\n                })\n                .catch(error => {\n                    if (error.message ===\"400\")\n                        window.alert(\"Purchases shouldn't be more then max possible amount\");\n                    if (error.message ===\"404\")\n                        window.alert(\"You don't choose position\");\n                });\n            this.props.onRenew();\n        }\n\n        this.props.onClose();\n    };\n\n    render() {\n        const { onClose } = this.props;\n        const { amount } = this.state;\n\n        return (<div>\n                <div className=\"modal\">\n                    <div className=\"modal-content-precog\">\n                        <span className=\"close\" onClick={onClose}>&times;</span>\n                        <h2 className=\"h-style\">Purchase</h2>\n                        <form className=\"form-tr\">\n                            <table className=\"bg-rg\">\n                                <tbody>\n                                <tr>\n                                    <td className=\"table-label-pr\">Amount:</td>\n                                    <td className=\"table-label-edit\">\n                                        <input\n                                            type=\"number\"\n                                            name=\"amount\"\n                                            value={amount === '' ? this.setState({amount:0}):amount}\n                                            onChange={this.handleInputChange}\n                                            onKeyDown={this.handleKeyDown}\n                                        />\n                                    </td>\n                                </tr>\n                                </tbody>\n                            </table>\n                            <button className=\"button-tr\" type=\"button\" onClick={this.handleSubmit}>Submit</button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Refuel;\n"],"mappings":"2oBAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,4BAEnC,CAAAC,MAAM,uBAAAC,UAAA,EAAAC,SAAA,CAAAF,MAAA,CAAAC,UAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,MAAA,EACR,SAAAA,OAAYK,KAAK,CAAE,KAAAC,KAAA,CAAAC,eAAA,MAAAP,MAAA,EACfM,KAAA,CAAAH,MAAA,CAAAK,IAAA,MAAMH,KAAK,EAAEC,KAAA,CASjBG,iBAAiB,CAAG,SAACC,KAAK,CAAK,CAC3B,IAAAC,aAAA,CAAwBD,KAAK,CAACE,MAAM,CAA5BC,IAAI,CAAAF,aAAA,CAAJE,IAAI,CAAEC,KAAK,CAAAH,aAAA,CAALG,KAAK,CACnB,GAAGA,KAAK,EAAE,CAAC,EAAIA,KAAK,EAAE,KAAK,CAC3B,CAACR,KAAA,CAAKS,QAAQ,CAAAC,eAAA,IAAIH,IAAI,CAAGC,KAAK,CAAE,CAAC,EAAC,CACtC,CAAC,CAAAR,KAAA,CAEDW,aAAa,CAAG,SAACP,KAAK,CAAK,CACvB,GAAIA,KAAK,CAACQ,GAAG,GAAK,GAAG,EAAIR,KAAK,CAACQ,GAAG,GAAK,GAAG,EAAIR,KAAK,CAACQ,GAAG,GAAK,GAAG,EAAIR,KAAK,CAACQ,GAAG,GAAK,GAAG,CAAE,CAClFR,KAAK,CAACS,cAAc,CAAC,CAAC,CAC1B,CAEJ,CAAC,CAAAb,KAAA,CAEDc,YAAY,CAAG,UAAM,CACjB,GAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAC9C,GAAM,CAAAC,QAAQ,CAAGC,OAAO,CAAC,WAAW,CAAC,CACrC,GAAM,CAAAC,IAAI,CAAG,GAAI,CAAAF,QAAQ,CAAC,CAAC,CAC3BE,IAAI,CAACC,MAAM,CAAC,QAAQ,CAAErB,KAAA,CAAKsB,KAAK,CAACC,MAAM,CAAC,CACxC,GAAIvB,KAAA,CAAKD,KAAK,CAACyB,IAAI,CACnB,CAACC,KAAK,mCAAAC,MAAA,CAAmC1B,KAAA,CAAKD,KAAK,CAAC4B,IAAI,YAAW,CAC/DC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACL,eAAe,WAAAH,MAAA,CAAYX,KAAK,CACpC,CAAC,CACDe,IAAI,CAAEV,IACV,CAAC,CAAC,CACGW,IAAI,CAAC,SAAAC,QAAQ,CAAI,CACd,GAAI,CAACA,QAAQ,CAACC,EAAE,CAAE,CACd;AACA,KAAM,IAAI,CAAAC,KAAK,CAACF,QAAQ,CAACG,MAAM,CAAC,CACpC,CACAnC,KAAA,CAAKD,KAAK,CAACqC,OAAO,CAAC,CAAC,CACxB,CAAC,CAAC,CACDC,KAAK,CAAC,SAAAC,KAAK,CAAI,CACZ,GAAIA,KAAK,CAACC,OAAO,GAAI,KAAK,CACtBC,MAAM,CAACC,KAAK,CAAC,sDAAsD,CAAC,CACxE,GAAIH,KAAK,CAACC,OAAO,GAAI,KAAK,CACtBC,MAAM,CAACC,KAAK,CAAC,2BAA2B,CAAC,CACjD,CAAC,CAAC,CACN,CAEA,GAAIzC,KAAA,CAAKD,KAAK,CAAC2C,GAAG,CAClB,CACIjB,KAAK,gCAAAC,MAAA,CAAgC1B,KAAA,CAAKD,KAAK,CAAC4B,IAAI,EAAI,CACpDC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACL,eAAe,WAAAH,MAAA,CAAYX,KAAK,CACpC,CAAC,CACDe,IAAI,CAAEV,IACV,CAAC,CAAC,CACGW,IAAI,CAAC,SAAAC,QAAQ,CAAI,CACd,GAAI,CAACA,QAAQ,CAACC,EAAE,CAAE,CACd;AACA,KAAM,IAAI,CAAAC,KAAK,CAACF,QAAQ,CAACG,MAAM,CAAC,CACpC,CACAnC,KAAA,CAAKD,KAAK,CAACqC,OAAO,CAAC,CAAC,CACxB,CAAC,CAAC,CACDC,KAAK,CAAC,SAAAC,KAAK,CAAI,CACZ,GAAIA,KAAK,CAACC,OAAO,GAAI,KAAK,CACtBC,MAAM,CAACC,KAAK,CAAC,sDAAsD,CAAC,CACxE,GAAIH,KAAK,CAACC,OAAO,GAAI,KAAK,CACtBC,MAAM,CAACC,KAAK,CAAC,2BAA2B,CAAC,CACjD,CAAC,CAAC,CACNzC,KAAA,CAAKD,KAAK,CAACqC,OAAO,CAAC,CAAC,CACxB,CAEApC,KAAA,CAAKD,KAAK,CAAC4C,OAAO,CAAC,CAAC,CACxB,CAAC,CA3EG3C,KAAA,CAAKsB,KAAK,CAAG,CACTC,MAAM,CAAE,CAAC,CACTI,IAAI,CAAC,CAET,CAAC,CAAC,OAAA3B,KAAA,CAEN,CAAC4C,YAAA,CAAAlD,MAAA,GAAAkB,GAAA,UAAAJ,KAAA,CAuED,SAAAqC,OAAA,CAAS,CACL,GAAQ,CAAAF,OAAO,CAAK,IAAI,CAAC5C,KAAK,CAAtB4C,OAAO,CACf,GAAQ,CAAApB,MAAM,CAAK,IAAI,CAACD,KAAK,CAArBC,MAAM,CAEd,mBAAQhC,IAAA,QAAAuD,QAAA,cACAvD,IAAA,QAAKwD,SAAS,CAAC,OAAO,CAAAD,QAAA,cAClBrD,KAAA,QAAKsD,SAAS,CAAC,sBAAsB,CAAAD,QAAA,eACjCvD,IAAA,SAAMwD,SAAS,CAAC,OAAO,CAACC,OAAO,CAAEL,OAAQ,CAAAG,QAAA,CAAC,MAAO,CAAM,CAAC,cACxDvD,IAAA,OAAIwD,SAAS,CAAC,SAAS,CAAAD,QAAA,CAAC,UAAQ,CAAI,CAAC,cACrCrD,KAAA,SAAMsD,SAAS,CAAC,SAAS,CAAAD,QAAA,eACrBvD,IAAA,UAAOwD,SAAS,CAAC,OAAO,CAAAD,QAAA,cACpBvD,IAAA,UAAAuD,QAAA,cACArD,KAAA,OAAAqD,QAAA,eACIvD,IAAA,OAAIwD,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAAC,SAAO,CAAI,CAAC,cAC3CvD,IAAA,OAAIwD,SAAS,CAAC,kBAAkB,CAAAD,QAAA,cAC5BvD,IAAA,UACI0D,IAAI,CAAC,QAAQ,CACb1C,IAAI,CAAC,QAAQ,CACbC,KAAK,CAAEe,MAAM,GAAK,EAAE,CAAG,IAAI,CAACd,QAAQ,CAAC,CAACc,MAAM,CAAC,CAAC,CAAC,CAAC,CAACA,MAAO,CACxD2B,QAAQ,CAAE,IAAI,CAAC/C,iBAAkB,CACjCgD,SAAS,CAAE,IAAI,CAACxC,aAAc,CACjC,CAAC,CACF,CAAC,EACL,CAAC,CACE,CAAC,CACL,CAAC,cACRpB,IAAA,WAAQwD,SAAS,CAAC,WAAW,CAACE,IAAI,CAAC,QAAQ,CAACD,OAAO,CAAE,IAAI,CAAClC,YAAa,CAAAgC,QAAA,CAAC,QAAM,CAAQ,CAAC,EACrF,CAAC,EACN,CAAC,CACL,CAAC,CACL,CAAC,CAEd,CAAC,WAAApD,MAAA,GAhHgBL,SAAS,EAmH9B,cAAe,CAAAK,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}