{"ast":null,"code":"import _defineProperty from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UpdatePrecogs=/*#__PURE__*/function(_Component){_inherits(UpdatePrecogs,_Component);var _super=_createSuper(UpdatePrecogs);function UpdatePrecogs(props){var _this;_classCallCheck(this,UpdatePrecogs);_this=_super.call(this,props);_this.handleInputChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;name===\"age\"&&value>=0&&value<1000&&_this.setState(_defineProperty({},name,value));name===\"preCogName\"&&_this.setState(_defineProperty({},name,value));};_this.handleSubmit=function(){var token=localStorage.getItem('jwtToken');var url=\"api/v1/precogs/\".concat(_this.props.pre.id);if(_this.state.preCogName!==''&&_this.state.age!==0){fetch(url,{method:'PUT',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify({preCogName:_this.state.preCogName,age:_this.state.age})}).then(function(response){if(!response.ok){throw new Error('Ошибка сети или сервера');}console.log('Данные успешно обновлены');_this.props.onClose();}).catch(function(error){console.error('Ошибка при запросе к серверу:',error);});}else{window.alert(\"don't input all fields\");}};_this.state={idd:0,preCogName:_this.props.pre.preCogName,age:_this.props.pre.age};return _this;}_createClass(UpdatePrecogs,[{key:\"render\",value:function render(){var _this$props=this.props,onClose=_this$props.onClose,pre=_this$props.pre;var _this$state=this.state,idd=_this$state.idd,preCogName=_this$state.preCogName,age=_this$state.age;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content-precog\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"close\",onClick:onClose,children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"h-style\",children:\"Update Precog\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"form-tr\",children:[/*#__PURE__*/_jsx(\"table\",{className:\"bg-rg\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"table-label-pr\",children:\"PreCog Name:\"}),/*#__PURE__*/_jsx(\"td\",{className:\"table-label-pr\",children:/*#__PURE__*/_jsx(\"input\",{maxLength:\"20\",type:\"text\",name:\"preCogName\",value:preCogName,onChange:this.handleInputChange})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"table-label-pr\",children:\"Age:\"}),/*#__PURE__*/_jsx(\"td\",{className:\"table-label-pr\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"age\",value:age,onChange:this.handleInputChange})})]})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"button-tr\",type:\"button\",onClick:this.handleSubmit,children:\"Submit\"})]})]})})});}}]);return UpdatePrecogs;}(Component);export default UpdatePrecogs;","map":{"version":3,"names":["React","Component","jsx","_jsx","jsxs","_jsxs","UpdatePrecogs","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","handleInputChange","event","_event$target","target","name","value","setState","_defineProperty","handleSubmit","token","localStorage","getItem","url","concat","pre","id","state","preCogName","age","fetch","method","headers","body","JSON","stringify","then","response","ok","Error","console","log","onClose","catch","error","window","alert","idd","_createClass","key","render","_this$props","_this$state","children","className","onClick","maxLength","type","onChange"],"sources":["/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/src/components/Technic/UpdatePrecogs.js"],"sourcesContent":["import React, { Component } from 'react';\n\nclass UpdatePrecogs extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            idd: 0,\n            preCogName:this.props.pre.preCogName,\n            age:this.props.pre.age\n        };\n    }\n\n    handleInputChange = (event) => {\n        const { name, value } = event.target;\n        (name === \"age\") && (value>=0) && value<1000 && this.setState({ [name]: value });\n        (name === \"preCogName\") && this.setState({ [name]: value });\n    };\n\n    handleSubmit = () => {\n        const token = localStorage.getItem('jwtToken');\n        const url = `api/v1/precogs/${this.props.pre.id}`;\n        if(this.state.preCogName !== '' && this.state.age !== 0 )\n        {fetch(url, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`,\n            },\n            body:JSON.stringify({\n                preCogName:this.state.preCogName,\n                age: this.state.age\n            })\n        })\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error('Ошибка сети или сервера');\n                }\n                console.log('Данные успешно обновлены');\n                this.props.onClose();\n            })\n            .catch(error => {\n                console.error('Ошибка при запросе к серверу:', error);\n            })}\n        else\n        {\n            window.alert(\"don't input all fields\")\n        }\n\n    };\n\n    render() {\n        const { onClose, pre } = this.props;\n        const { idd, preCogName, age } = this.state;\n\n        return (<div>\n                <div className=\"modal\">\n                    <div className=\"modal-content-precog\">\n                        <span className=\"close\" onClick={onClose}>&times;</span>\n                        <h2 className=\"h-style\">Update Precog</h2>\n                        <form className=\"form-tr\">\n                            <table className=\"bg-rg\">\n                                <tbody>\n                                <tr>\n                                    <td className=\"table-label-pr\">PreCog Name:</td>\n                                    <td className=\"table-label-pr\">\n                                        <input maxLength=\"20\" type=\"text\" name=\"preCogName\" value={preCogName} onChange={this.handleInputChange} />\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td className=\"table-label-pr\">Age:</td>\n                                    <td className=\"table-label-pr\">\n                                        <input type=\"number\" name=\"age\" value={age} onChange={this.handleInputChange} />\n                                    </td>\n                                </tr>\n                                </tbody>\n                            </table>\n                            <br/>\n                            <button className=\"button-tr\" type=\"button\" onClick={this.handleSubmit}>Submit</button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default UpdatePrecogs;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}