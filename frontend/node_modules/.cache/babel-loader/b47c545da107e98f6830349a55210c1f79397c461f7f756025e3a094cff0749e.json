{"ast":null,"code":"import _toConsumableArray from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _classCallCheck from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AppointGroup=/*#__PURE__*/function(_Component){_inherits(AppointGroup,_Component);var _super=_createSuper(AppointGroup);function AppointGroup(props){var _this;_classCallCheck(this,AppointGroup);_this=_super.call(this,props);_this.handleRowsClick=function(id){var selectedRows=_this.state.selectedRows;var isSelected=selectedRows.includes(id);if(isSelected){_this.setState({selectedRows:selectedRows.filter(function(selectedId){return selectedId!==id;})});}else{_this.setState({selectedRows:[].concat(_toConsumableArray(selectedRows),[id])},function(){console.log(id);});}};_this.appointing=function(){var token=localStorage.getItem('jwtToken');var selectedRows=_this.state.selectedRows;var idCr=_this.props.idCr;var grr=selectedRows.length!==0?selectedRows.length===1?_toConsumableArray(selectedRows):selectedRows:[];console.log(grr);if(selectedRows.length!==0){fetch(\"api/v1/reactiongroup/criminal/\".concat(idCr),{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)// Добавляем токен в заголовок\n},body:JSON.stringify(grr)}).then(function(response){if(!response.ok){throw new Error(\"HTTP error! Status: \".concat(response.status));}return response.text();}).then(function(data){console.log(data);_this.props.onRenew();_this.props.onClose();}).catch(function(error){console.error('Ошибка при запросе к серверу:',error);});_this.props.onClose();}else{window.alert(\"choose men\");}_this.props.onClose();};_this.state={selectedRows:[]};return _this;}_createClass(AppointGroup,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,groupList=_this$props.groupList,onClose=_this$props.onClose;var selectedRows=this.state.selectedRows;return/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content-appoint\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"close\",onClick:onClose,children:\"\\xD7\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"form-content\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"bg-rg\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"table-label\",children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-label\",children:\"Member Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-label\",children:\"Telegram ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-label\",children:\"in Operation\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:groupList?groupList.map(function(group){return group.inOperation&&/*#__PURE__*/_jsxs(\"tr\",{className:_this2.state.selectedRows.includes(group.id)?'selected-row':'',onClick:function onClick(){return _this2.handleRowsClick(group.id);},children:[/*#__PURE__*/_jsx(\"td\",{className:\"table-label-edit\",children:group.id}),/*#__PURE__*/_jsx(\"td\",{className:\"table-label-edit\",children:group.memberName}),/*#__PURE__*/_jsx(\"td\",{className:\"table-label-edit\",children:group.telegramId}),/*#__PURE__*/_jsx(\"td\",{className:\"table-label-edit\",children:group.inOperation?'Yes':'No'})]},group.id);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{className:\"table-label-edit\",colSpan:\"4\",children:\"No group data available\"})})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"button-tr\",onClick:this.appointing,children:\"Appoint Group\"})]})]})});}}]);return AppointGroup;}(Component);export default AppointGroup;","map":{"version":3,"names":["React","Component","jsx","_jsx","jsxs","_jsxs","AppointGroup","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","handleRowsClick","id","selectedRows","state","isSelected","includes","setState","filter","selectedId","concat","_toConsumableArray","console","log","appointing","token","localStorage","getItem","idCr","grr","length","fetch","method","headers","body","JSON","stringify","then","response","ok","Error","status","text","data","onRenew","onClose","catch","error","window","alert","_createClass","key","value","render","_this2","_this$props","groupList","className","children","onClick","map","group","inOperation","memberName","telegramId","colSpan","type"],"sources":["/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/src/components/boss_group/AppointGroup.js"],"sourcesContent":["import React, { Component } from 'react';\n\nclass AppointGroup extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            selectedRows: [],\n        };\n    }\n\n    handleRowsClick = (id) => {\n        const { selectedRows } = this.state;\n        const isSelected = selectedRows.includes(id);\n        if (isSelected) {\n\n            this.setState({\n                selectedRows: selectedRows.filter(selectedId => selectedId !== id),\n            });\n        } else {\n\n            this.setState({\n                selectedRows: [...selectedRows, id],\n            }, ()=>{console.log(id)});\n        }\n\n\n    };\n\n    appointing = () => {\n        const token = localStorage.getItem('jwtToken');\n        const { selectedRows } = this.state\n        const { idCr } = this.props\n\n        const grr = selectedRows.length !== 0 ? (selectedRows.length === 1 ? [...selectedRows] : selectedRows) : [];\n        console.log(grr)\n        if (selectedRows.length !== 0) {\n            fetch(`api/v1/reactiongroup/criminal/${idCr}`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${token}`, // Добавляем токен в заголовок\n                },\n                body: JSON.stringify(grr),\n            })\n                .then(response => {\n                    if (!response.ok) {\n                        throw new Error(`HTTP error! Status: ${response.status}`);\n                    }\n\n                    return response.text();\n                })\n                .then(data => {\n                    console.log(data);\n                    this.props.onRenew();\n                    this.props.onClose();\n                })\n                .catch(error => {\n                    console.error('Ошибка при запросе к серверу:', error);\n                });\n\n            this.props.onClose();\n        }\n        else\n        {\n            window.alert(\"choose men\")\n        }\n        this.props.onClose();\n    };\n\n\n    render() {\n        const { groupList, onClose } = this.props;\n        const { selectedRows } = this.state;\n\n        return (<div className=\"modal\">\n                    <div className=\"modal-content-appoint\">\n                        <span className=\"close\" onClick={onClose}>&times;</span>\n                        <form className=\"form-content\">\n                                <table className=\"bg-rg\">\n                                    <thead>\n                                    <tr>\n                                        <th className=\"table-label\">ID</th>\n                                        <th className=\"table-label\">Member Name</th>\n                                        <th className=\"table-label\">Telegram ID</th>\n                                        <th className=\"table-label\">in Operation</th>\n                                    </tr>\n                                    </thead>\n                                    <tbody>\n\n                                    {groupList ? (groupList.map((group) => (\n                                            group.inOperation &&\n                                                    <tr\n                                                        key={group.id}\n                                                        className={this.state.selectedRows.includes(group.id) ? 'selected-row' : ''}\n                                                        onClick={() => this.handleRowsClick(group.id)}\n                                                    >\n                                                        <td className=\"table-label-edit\">{group.id}</td>\n                                                        <td className=\"table-label-edit\">{group.memberName}</td>\n                                                        <td className=\"table-label-edit\">{group.telegramId}</td>\n                                                        <td className=\"table-label-edit\">{group.inOperation ? 'Yes' : 'No'}</td>\n                                                    </tr>\n\n                                    )))\n                                    : (\n                                            <tr>\n                                                <td className=\"table-label-edit\"\n                                                    colSpan=\"4\">No group data available</td>\n                                            </tr>\n                                        )}\n                                    </tbody>\n                                </table>\n                            <br/>\n                                <button type=\"button\" className=\"button-tr\" onClick={this.appointing}>Appoint Group</button>\n                        </form>\n                        </div>\n                    </div>\n        );\n    }\n}\n\nexport default AppointGroup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}