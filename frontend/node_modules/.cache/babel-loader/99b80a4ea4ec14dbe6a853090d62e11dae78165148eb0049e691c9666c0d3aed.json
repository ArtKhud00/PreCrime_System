{"ast":null,"code":"import _classCallCheck from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import Header from\"../Header\";import BurgerMenu from\"../BurgerMenu\";import Profile from\"../profile\";import AddVision from\"../visions/AddVision\";import Users from\"../Auditor/Users\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Administrator=/*#__PURE__*/function(_Component){_inherits(Administrator,_Component);var _super=_createSuper(Administrator);function Administrator(props){var _this;_classCallCheck(this,Administrator);_this=_super.call(this,props);_this.openModal=function(){_this.setState({showModal:true});_this.setState({showModal_2:false});};_this.closeModal=function(){_this.setState({showModal:false});_this.setState({showModal_2:false});};_this.openModal_2=function(){_this.setState({showModal:false});_this.setState({showModal_2:true});_this.showUsers();};_this.showUsers=function(){_this.setState({showUsers:true});_this.setState({showModal:false});var token=localStorage.getItem('jwtToken');fetch('api/v1/admin/users',{method:'GET',// или другой метод\nheaders:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)// Добавляем токен в заголовок\n}}).then(function(responses){return responses.json();}).then(function(data){_this.setState({users:data});console.log(_this.state.users);}).catch(function(error){console.error('Ошибка при запросе к серверу:',error);});};_this.state={showModal:false,showModal_2:false,psychics:[],visions:[],selectedPsychic:null,users:null};return _this;}_createClass(Administrator,[{key:\"render\",value:function render(){var selectedPsychic=this.state.selectedPsychic;var _this$props=this.props,onChange=_this$props.onChange,me=_this$props.me;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{pullRole:this.props.pullRole,isLogged:this.props.isLogged,onChange:onChange,rol:me.roles}),/*#__PURE__*/_jsx(\"div\",{className:\"frame-but\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"rectangle-but\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"card-list\",onClick:this.openModal,children:\"Add Vision\"}),/*#__PURE__*/_jsx(\"button\",{className:\"card-list\",onClick:this.openModal_2,children:\"Users\"})]})}),this.state.showModal&&/*#__PURE__*/_jsx(AddVision,{onClose:this.closeModal}),/*#__PURE__*/_jsx(\"div\",{className:\"frame-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"rectangle-2\",children:this.state.showModal_2&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"header\",{className:\"header-pr\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"acc-vis\",onClick:this.openModal,children:\"Update\"}),/*#__PURE__*/_jsx(\"button\",{className:\"del-vis\",onClick:this.retire,children:\"Delete\"})]}),/*#__PURE__*/_jsx(Users,{usersList:this.state.users})]})})})]});}}]);return Administrator;}(Component);export default Administrator;","map":{"version":3,"names":["React","Component","Header","BurgerMenu","Profile","AddVision","Users","jsx","_jsx","jsxs","_jsxs","Administrator","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","openModal","setState","showModal","showModal_2","closeModal","openModal_2","showUsers","token","localStorage","getItem","fetch","method","headers","concat","then","responses","json","data","users","console","log","state","catch","error","psychics","visions","selectedPsychic","_createClass","key","value","render","_this$props","onChange","me","children","pullRole","isLogged","rol","roles","className","onClick","onClose","retire","usersList"],"sources":["/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/src/components/Admin/Administrator.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Header from \"../Header\";\nimport BurgerMenu from \"../BurgerMenu\";\nimport Profile from \"../profile\";\nimport AddVision from \"../visions/AddVision\";\nimport Users from \"../Auditor/Users\";\n\nclass Administrator extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            showModal: false,\n            showModal_2: false,\n            psychics: [],\n            visions:[],\n            selectedPsychic: null,\n            users:null\n\n        };\n    }\n\n    openModal = () => {\n        this.setState({ showModal: true });\n        this.setState({ showModal_2: false });\n\n    };\n\n    closeModal = () => {\n        this.setState({ showModal: false});\n        this.setState({ showModal_2: false });\n    };\n    openModal_2 = () => {\n        this.setState({ showModal: false });\n        this.setState({ showModal_2: true });\n        this.showUsers()\n    };\n\n    showUsers = () => {\n        this.setState({showUsers: true})\n        this.setState({showModal: false});\n        const token = localStorage.getItem('jwtToken');\n\n        fetch('api/v1/admin/users', {\n            method: 'GET', // или другой метод\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`, // Добавляем токен в заголовок\n            },\n        })\n            .then(responses => responses.json())\n            .then(data => {\n                this.setState({users:data})\n                console.log(this.state.users)\n            })\n            .catch(error => {\n                console.error('Ошибка при запросе к серверу:', error);\n            });\n\n    }\n\n\n\n\n\n    render() {\n        const { selectedPsychic } = this.state;\n        const { onChange, me } = this.props\n        return (<div>\n                <Header pullRole={this.props.pullRole} isLogged={this.props.isLogged} onChange={onChange} rol={me.roles}/>\n\n                <div className=\"frame-but\">\n                    <div className=\"rectangle-but\" >\n                        <button className=\"card-list\" onClick={this.openModal}>Add Vision</button>\n                        <button className=\"card-list\" onClick={this.openModal_2}>Users</button>\n                    </div>\n                   </div>\n                {this.state.showModal && <AddVision onClose={this.closeModal}/>}\n\n\n                <div className=\"frame-2\">\n                    <div className=\"rectangle-2\" >\n                        {this.state.showModal_2 && (<div>\n                            <header className=\"header-pr\">\n                                <button className=\"acc-vis\" onClick={this.openModal}>Update</button>\n                                <button className=\"del-vis\" onClick={this.retire} >Delete</button>\n                            </header>\n                            <Users usersList={this.state.users}/>\n                        </div>)}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Administrator;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}