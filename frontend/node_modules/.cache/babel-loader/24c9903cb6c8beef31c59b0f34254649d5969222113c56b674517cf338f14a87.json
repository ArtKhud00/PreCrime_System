{"ast":null,"code":"import _toConsumableArray from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _classCallCheck from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import Modal from'react-modal';import TableVision from\"./TableVision\";import RegMans from\"../boss_group/newMan\";import AddVision from\"./AddVision\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var VisionList=/*#__PURE__*/function(_React$Component){_inherits(VisionList,_React$Component);var _super=_createSuper(VisionList);function VisionList(props){var _this;_classCallCheck(this,VisionList);_this=_super.call(this,props);_this.handleVideoClick=function(url){_this.setState({selectedVisionUrl:url});};_this.showFilter=function(){_this.setState({showModal:!_this.state.showModal});};_this.updateStateId=function(){_this.setState({prevId:_this.state.idGroup});console.log(_this.state.prevId);};_this.handleCheckboxChange=function(option){var selectedOptions=_this.state.selectedOptions;var isSelected=selectedOptions.some(function(selected){return selected.id===option.id;});var updatedOptions=isSelected?selectedOptions.filter(function(selected){return selected.id!==option.id;}):[].concat(_toConsumableArray(selectedOptions),[option]);_this.setState({selectedOptions:updatedOptions},function(){console.log(selectedOptions);});_this.setState({showCriminal:false});};_this.updateState=function(newValue){_this.setState({idGroup:newValue});console.log(_this.state.idGroup);};_this.state={showModal:false,showModal_1:false,showModal_2:false,showWorking:false,idGroup:0,manData:null,prevId:0,isModalOpen:false,// состояние модального окна\nselectedVisionUrl:null,// URL выбранного видео\noptions:[{id:1,label:'ALREADY USE'},{id:2,label:'ACCEPTED'}],selectedOptions:[]};return _this;}_createClass(VisionList,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){var _this$state=this.state,prevId=_this$state.prevId,idGroup=_this$state.idGroup;if(prevId!==idGroup){this.updateStateId();}}},{key:\"render\",value:function render(){var _this2=this;var _this$state2=this.state,selectedVisionUrl=_this$state2.selectedVisionUrl,showModal=_this$state2.showModal;var _this$state3=this.state,options=_this$state3.options,selectedOptions=_this$state3.selectedOptions;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"header\",{className:\"header-pr\",children:[!showModal?/*#__PURE__*/_jsx(\"button\",{className:\"acc-vis\",onClick:this.showFilter,children:\"Filter \\u2193\"}):/*#__PURE__*/_jsx(\"button\",{className:\"acc-vis\",onClick:this.showFilter,children:\"Filter \\u2191\"}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"multi-select-menu\",children:/*#__PURE__*/_jsx(\"ul\",{children:options.map(function(option){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedOptions.some(function(selected){return selected.id===option.id;}),onChange:function onChange(){return _this2.handleCheckboxChange(option);}}),option.label===\"NOT_CAUGHT\"?'NOT CAUGHT':option.label]})},option.id);})})})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"car-text\",children:\"Visions\"}),/*#__PURE__*/_jsx(\"table\",{className:\"bg-rg\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"table-label-pr\",children:/*#__PURE__*/_jsx(TableVision,{updateUrl:this.handleVideoClick,updateId:this.updateState,selectedOptions:selectedOptions})}),/*#__PURE__*/_jsx(\"td\",{className:\"table-label-pr\",children:selectedVisionUrl&&/*#__PURE__*/_jsx(\"div\",{className:\"video-container\",children:/*#__PURE__*/_jsx(\"iframe\",{title:\"Vision Video\",width:\"900\",height:\"800\",src:selectedVisionUrl,frameBorder:\"0\",allowFullScreen:true})})})]})})]});}}]);return VisionList;}(React.Component);export default VisionList;","map":{"version":3,"names":["React","Modal","TableVision","RegMans","AddVision","jsx","_jsx","jsxs","_jsxs","VisionList","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","handleVideoClick","url","setState","selectedVisionUrl","showFilter","showModal","state","updateStateId","prevId","idGroup","console","log","handleCheckboxChange","option","selectedOptions","isSelected","some","selected","id","updatedOptions","filter","concat","_toConsumableArray","showCriminal","updateState","newValue","showModal_1","showModal_2","showWorking","manData","isModalOpen","options","label","_createClass","key","value","componentDidUpdate","prevProps","prevState","_this$state","render","_this2","_this$state2","_this$state3","children","className","onClick","map","type","checked","onChange","updateUrl","updateId","title","width","height","src","frameBorder","allowFullScreen","Component"],"sources":["/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/src/components/visions/VisionList.js"],"sourcesContent":["import React from \"react\";\nimport Modal from 'react-modal';\nimport TableVision from \"./TableVision\";\nimport RegMans from \"../boss_group/newMan\";\nimport AddVision from \"./AddVision\";\nclass VisionList extends React.Component {\n    constructor(props) {\n\n        super(props);\n\n        this.state = {\n            showModal: false,\n            showModal_1: false,\n            showModal_2: false,\n            showWorking:false,\n            idGroup:0,\n            manData: null,\n            prevId:0,\n            isModalOpen: false, // состояние модального окна\n            selectedVisionUrl: null, // URL выбранного видео\n            options: [\n                { id: 1, label: 'ALREADY USE' },\n                { id: 2, label: 'ACCEPTED' },\n            ],\n            selectedOptions: [],\n        }\n\n    }\n\n\n    handleVideoClick = (url) => {\n        this.setState({ selectedVisionUrl: url });\n    };\n\n    showFilter = () => {\n        this.setState({ showModal: !this.state.showModal });\n    };\n\n    componentDidUpdate(prevProps, prevState) {\n        const {prevId, idGroup} = this.state\n        if (prevId !== idGroup) {\n            this.updateStateId();\n        }\n    }\n\n\n    updateStateId = () => {\n        this.setState({ prevId: this.state.idGroup})\n        console.log(this.state.prevId)\n    };\n\n    handleCheckboxChange = (option) => {\n        const { selectedOptions } = this.state;\n        const isSelected = selectedOptions.some((selected) => selected.id === option.id);\n        const updatedOptions = isSelected\n            ? selectedOptions.filter((selected) => selected.id !== option.id)\n            : [...selectedOptions, option];\n\n        this.setState({\n            selectedOptions: updatedOptions,\n        }, ()=>{console.log(selectedOptions)});\n        this.setState({showCriminal:false})\n    };\n\n    updateState = (newValue) => {\n        this.setState({ idGroup: newValue });\n        console.log(this.state.idGroup)\n    };\n\n    render() {\n        const { selectedVisionUrl, showModal } = this.state;\n        const { options, selectedOptions } = this.state\n        return ( <div>\n                <header className=\"header-pr\">\n                    {!showModal ? <button className=\"acc-vis\" onClick={this.showFilter}>Filter ↓</button> :\n                        <button className=\"acc-vis\" onClick={this.showFilter}>Filter ↑</button>}\n                    {showModal &&\n                        <div className=\"multi-select-menu\">\n                            <ul>\n                                {options.map((option) => (\n                                    <li key={option.id}>\n                                        <label>\n                                            <input\n                                                type=\"checkbox\"\n                                                checked={selectedOptions.some((selected) => selected.id === option.id)}\n                                                onChange={() => this.handleCheckboxChange(option)}\n                                            />\n                                            {option.label === \"NOT_CAUGHT\" ? 'NOT CAUGHT':option.label}\n                                        </label>\n                                    </li>\n                                ))}\n                            </ul>\n                        </div>}\n                </header>\n                <h1 className=\"car-text\">Visions</h1>\n                <table className=\"bg-rg\">\n                    <tbody>\n                    <td className=\"table-label-pr\">\n                        <TableVision updateUrl={this.handleVideoClick} updateId={this.updateState} selectedOptions={selectedOptions}/>\n                    </td>\n                    <td className=\"table-label-pr\">\n                        {selectedVisionUrl && (\n                            <div className=\"video-container\">\n                                <iframe\n                                    title=\"Vision Video\"\n                                    width=\"900\"\n                                    height=\"800\"\n                                    src={selectedVisionUrl}\n                                    frameBorder=\"0\"\n                                    allowFullScreen\n                                ></iframe>\n                            </div>\n                        )\n                        }\n                    </td>\n\n                    </tbody>\n                </table>\n            </div>\n\n\n        )\n    }\n}\n\nexport default VisionList"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}