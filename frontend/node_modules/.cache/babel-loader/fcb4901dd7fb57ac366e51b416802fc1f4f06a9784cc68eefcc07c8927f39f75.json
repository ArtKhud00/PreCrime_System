{"ast":null,"code":"import _defineProperty from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RegPrecogs=/*#__PURE__*/function(_Component){_inherits(RegPrecogs,_Component);var _super=_createSuper(RegPrecogs);function RegPrecogs(props){var _this;_classCallCheck(this,RegPrecogs);_this=_super.call(this,props);_this.handleInputChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;name===\"age\"&&value>=0&&value<1000&&_this.setState(_defineProperty({},name,value));name===\"preCogName\"&&_this.setState(_defineProperty({},name,value));};_this.handleSubmit=function(){var token=localStorage.getItem('jwtToken');if(_this.state.preCogName!==''&&_this.state.age!==0){fetch('api/v1/precogs/newprecog',{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify({id:0,preCogName:_this.state.preCogName,age:_this.state.age})}).then(function(response){return response.json();}).then(function(data){_this.setState({man:data});console.log(data);_this.props.onRenew();}).catch(function(error){console.error('Ошибка при запросе к серверу:',error);});_this.props.onClose();}else{window.alert(\"don't input all fields!\");}};_this.handleKeyDown=function(event){if(event.key==='+'||event.key==='-'||event.key==='.'||event.key===','){event.preventDefault();}};_this.state={preCogName:'',age:0};return _this;}_createClass(RegPrecogs,[{key:\"render\",value:function render(){var onClose=this.props.onClose;var _this$state=this.state,preCogName=_this$state.preCogName,age=_this$state.age;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content-precog\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"close\",onClick:onClose,children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"h-style\",children:\"Add New Precog\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"form-tr\",children:[/*#__PURE__*/_jsx(\"table\",{className:\"bg-rg\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"table-label-pr\",children:\"PreCog Name:\"}),/*#__PURE__*/_jsx(\"td\",{className:\"table-label-edit\",children:/*#__PURE__*/_jsx(\"input\",{maxLength:\"20\",type:\"text\",name:\"preCogName\",value:preCogName,onChange:this.handleInputChange})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"table-label-pr\",children:\"Age:\"}),/*#__PURE__*/_jsx(\"td\",{className:\"table-label-edit\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"age\",value:age===''?this.setState({age:0}):age,onChange:this.handleInputChange,onKeyDown:this.handleKeyDown})})]})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"button-tr\",type:\"button\",onClick:this.handleSubmit,children:\"Submit\"})]})]})})});}}]);return RegPrecogs;}(Component);export default RegPrecogs;","map":{"version":3,"names":["React","Component","jsx","_jsx","jsxs","_jsxs","RegPrecogs","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","handleInputChange","event","_event$target","target","name","value","setState","_defineProperty","handleSubmit","token","localStorage","getItem","state","preCogName","age","fetch","method","headers","concat","body","JSON","stringify","id","then","response","json","data","man","console","log","onRenew","catch","error","onClose","window","alert","handleKeyDown","key","preventDefault","_createClass","render","_this$state","children","className","onClick","maxLength","type","onChange","onKeyDown"],"sources":["/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/src/components/Technic/RegPrecogs.js"],"sourcesContent":["import React, { Component } from 'react';\n\nclass RegPrecogs extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            preCogName: '',\n            age: 0,\n        };\n    }\n\n    handleInputChange = (event) => {\n        const { name, value } = event.target;\n        (name === \"age\") && (value>=0) && value<1000 && this.setState({ [name]: value });\n        (name === \"preCogName\") && this.setState({ [name]: value });\n    };\n\n    handleSubmit = () => {\n        const token = localStorage.getItem('jwtToken');\n        if(this.state.preCogName !== '' && this.state.age !== 0 )\n        {fetch('api/v1/precogs/newprecog', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`,\n            },\n            body: JSON.stringify({\n                id: 0,\n                preCogName: this.state.preCogName,\n                age: this.state.age,\n            }),\n        })\n            .then(response => response.json())\n            .then(data => {\n                this.setState({ man: data });\n                console.log(data);\n                this.props.onRenew();\n            })\n            .catch(error => {\n                console.error('Ошибка при запросе к серверу:', error);\n            })\n            this.props.onClose();}\n        else\n        {window.alert(\"don't input all fields!\")}\n\n\n    };\n\n    handleKeyDown = (event) => {\n        if (event.key === '+' || event.key === '-' || event.key === '.' || event.key === ',') {\n            event.preventDefault();\n        }\n    }\n\n    render() {\n        const { onClose } = this.props;\n        const { preCogName, age } = this.state;\n\n        return (\n            <div>\n                <div className=\"modal\">\n                    <div className=\"modal-content-precog\">\n                        <span className=\"close\" onClick={onClose}>&times;</span>\n                        <h2 className=\"h-style\">Add New Precog</h2>\n                        <form className=\"form-tr\">\n                            <table className=\"bg-rg\">\n                                <tbody>\n                                <tr>\n                                    <td className=\"table-label-pr\">PreCog Name:</td>\n                                    <td className=\"table-label-edit\">\n                                        <input\n                                            maxLength=\"20\"\n                                            type=\"text\"\n                                            name=\"preCogName\"\n                                            value={preCogName}\n                                            onChange={this.handleInputChange}\n                                        />\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td className=\"table-label-pr\">Age:</td>\n                                    <td className=\"table-label-edit\">\n                                        <input\n                                            type=\"number\"\n                                            name=\"age\"\n                                            value={age===''? this.setState({age:0}):age}\n                                            onChange={this.handleInputChange}\n                                            onKeyDown={this.handleKeyDown}\n                                        />\n                                    </td>\n                                </tr>\n                                </tbody>\n                            </table>\n                            <br/>\n                            <button className=\"button-tr\"\n                                    type=\"button\"\n                                    onClick={this.handleSubmit}>\n                                Submit\n                            </button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default RegPrecogs;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}