{"ast":null,"code":"import _classCallCheck from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import Header from\"../Header\";import ListCards from\"../crime_card/ListCards\";import BurgerMenu from\"../BurgerMenu\";import Users from\"./Users\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DetectiveMain=/*#__PURE__*/function(_React$Component){_inherits(DetectiveMain,_React$Component);var _super=_createSuper(DetectiveMain);function DetectiveMain(props){var _this;_classCallCheck(this,DetectiveMain);_this=_super.call(this,props);_this.openModal=function(){_this.setState({showModal:true});_this.setState({showUsers:false});var token=localStorage.getItem('jwtToken');fetch('api/v1/auditor/cards',{method:'GET',// или другой метод\nheaders:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)// Добавляем токен в заголовок\n}}).then(function(responses){return responses.json();}).then(function(data){_this.setState({cards:data});}).catch(function(error){console.error('Ошибка при запросе к серверу:',error);});};_this.closeModal=function(){_this.setState({showModal:false});_this.props.renew();};_this.showUsers=function(){_this.setState({showUsers:true});_this.setState({showModal:false});var token=localStorage.getItem('jwtToken');fetch('api/v1/auditor/users',{method:'GET',// или другой метод\nheaders:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)// Добавляем токен в заголовок\n}}).then(function(responses){return responses.json();}).then(function(data){_this.setState({users:data});console.log(_this.state.users);}).catch(function(error){console.error('Ошибка при запросе к серверу:',error);});};_this.closeUsers=function(){_this.setState({showUsers:false});};_this.closeBurger=function(){_this.setState({showBurger:false});_this.props.renew();};_this.state={showModal:false,showBurger:false,showUsers:false,cards:null,users:null};return _this;}_createClass(DetectiveMain,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,onChange=_this$props.onChange,me=_this$props.me;var visibleRoles=[\"DETECTIVE\",\"AUDITOR\",\"REACTIONGROUP\",\"TECHNIC\"];var rolesToDisplay=visibleRoles.filter(function(role){return me.roles.includes(role);});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{isLogged:this.props.isLogged,me:me}),/*#__PURE__*/_jsx(BurgerMenu,{onClose:this.closeBurger,roles:rolesToDisplay,updatePull:this.props.pullRole}),!this.state.showModal&&/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"frame-but\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"rectangle-but\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"card-list\",onClick:this.openModal,children:\"Cards List\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){_this2.showUsers();},className:\"create-card\",children:\"Users\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"frame-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"rectangle-2\",children:[this.state.showUsers&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"h-style\",children:\"User List\"}),/*#__PURE__*/_jsx(Users,{onClose:this.closeUsers,usersList:this.state.users,onRenew:this.showUsers,role:\"AUDITOR\"})]}),this.state.showModal&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ListCards,{onClose:this.closeModal,crimeList:this.state.cards,onRenew:this.openModal,role:\"AUDITOR\"})})]})})]});}}]);return DetectiveMain;}(React.Component);export default DetectiveMain;","map":{"version":3,"names":["React","Header","ListCards","BurgerMenu","Users","jsx","_jsx","jsxs","_jsxs","DetectiveMain","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","openModal","setState","showModal","showUsers","token","localStorage","getItem","fetch","method","headers","concat","then","responses","json","data","cards","catch","error","console","closeModal","renew","users","log","state","closeUsers","closeBurger","showBurger","_createClass","key","value","render","_this2","_this$props","onChange","me","visibleRoles","rolesToDisplay","filter","role","roles","includes","children","isLogged","onClose","updatePull","pullRole","className","onClick","usersList","onRenew","crimeList","Component"],"sources":["/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/src/components/Auditor/Auditor.js"],"sourcesContent":["import React from \"react\";\nimport Header from \"../Header\";\nimport ListCards from \"../crime_card/ListCards\";\nimport BurgerMenu from \"../BurgerMenu\";\nimport Users from \"./Users\"\nclass DetectiveMain extends React.Component {\n    constructor(props) {\n\n        super(props);\n        this.state = {\n            showModal: false,\n            showBurger: false,\n            showUsers:false,\n            cards:null,\n            users:null\n        }\n\n    }\n\n    openModal = () => {\n        this.setState({ showModal: true });\n        this.setState({ showUsers: false});\n        const token = localStorage.getItem('jwtToken');\n\n        fetch('api/v1/auditor/cards', {\n            method: 'GET', // или другой метод\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`, // Добавляем токен в заголовок\n            },\n        })\n            .then(responses => responses.json())\n            .then(data => {\n                this.setState({cards:data})\n            })\n            .catch(error => {\n                console.error('Ошибка при запросе к серверу:', error);\n            });\n\n    };\n\n    closeModal = () => {\n        this.setState({showModal: false});\n        this.props.renew();\n    };\n\n    showUsers = () => {\n        this.setState({showUsers: true})\n        this.setState({showModal: false});\n        const token = localStorage.getItem('jwtToken');\n\n        fetch('api/v1/auditor/users', {\n            method: 'GET', // или другой метод\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`, // Добавляем токен в заголовок\n            },\n        })\n            .then(responses => responses.json())\n            .then(data => {\n                this.setState({users:data})\n                console.log(this.state.users)\n            })\n            .catch(error => {\n                console.error('Ошибка при запросе к серверу:', error);\n            });\n\n    }\n\n    closeUsers = () => {\n        this.setState({showUsers: false})\n    }\n\n    closeBurger = () => {\n        this.setState({showBurger: false});\n        this.props.renew();\n    };\n\n\n    render() {\n        const {onChange, me} = this.props\n        const visibleRoles = [\"DETECTIVE\", \"AUDITOR\", \"REACTIONGROUP\",\"TECHNIC\"];\n        const rolesToDisplay = visibleRoles.filter(role => me.roles.includes(role));\n        return (<div>\n                <Header isLogged={this.props.isLogged} me={me}/>\n                <BurgerMenu onClose={this.closeBurger} roles={rolesToDisplay} updatePull={this.props.pullRole}/>\n                {!this.state.showModal && (<div>\n\n\n\n                </div>)\n                }\n\n\n\n                <div className=\"frame-but\">\n                    <div className=\"rectangle-but\">\n                    <button className=\"card-list\" onClick={this.openModal}>Cards List</button>\n                    <button onClick={()=>{this.showUsers()}} className=\"create-card\">Users</button>\n                    </div>\n                </div>\n                <div className=\"frame-2\">\n                    <div className=\"rectangle-2\">\n                        {this.state.showUsers && (\n                            <div>\n                                <h2 className=\"h-style\">User List</h2>\n                                <Users onClose={this.closeUsers} usersList={this.state.users} onRenew={this.showUsers} role={\"AUDITOR\"}/>\n                            </div>\n                        )}\n\n                        {this.state.showModal && (\n                            <div>\n                                <ListCards onClose={this.closeModal} crimeList={this.state.cards} onRenew={this.openModal} role={\"AUDITOR\"}/>\n                            </div>\n                        )}\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default DetectiveMain"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}