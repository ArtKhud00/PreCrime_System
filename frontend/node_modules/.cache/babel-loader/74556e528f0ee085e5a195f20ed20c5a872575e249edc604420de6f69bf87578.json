{"ast":null,"code":"import _defineProperty from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddVision=/*#__PURE__*/function(_Component){_inherits(AddVision,_Component);var _super=_createSuper(AddVision);function AddVision(props){var _this;_classCallCheck(this,AddVision);_this=_super.call(this,props);_this.handleInputChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState(_defineProperty({},name,value));};_this.handleSubmit=function(){var token=localStorage.getItem('jwtToken');fetch('api/v1/visions/add',{method:'POST',// или другой метод\nheaders:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)// Добавляем токен в заголовок\n},body:JSON.stringify({id:0,videoUrl:_this.state.url})}).then(function(response){return response.json();}).then(function(data){_this.setState({vision:data});console.log(data);}).catch(function(error){console.error('Ошибка при запросе к серверу:',error);});_this.props.onClose();};_this.state={url:'',id:0,vision:null};return _this;}_createClass(AddVision,[{key:\"render\",value:function render(){var onClose=this.props.onClose;var url=this.state.url;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content-user\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"close\",onClick:onClose,children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"h-style\",children:\"Add Vision\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"form-tr\",children:[/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"table-label\",children:\"Url:\"}),/*#__PURE__*/_jsx(\"td\",{className:\"table-label-edit\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"url\",value:url,onChange:this.handleInputChange})})]})})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"button-tr\",type:\"button\",onClick:this.handleSubmit,children:\"Submit\"})]})]})})});}}]);return AddVision;}(Component);export default AddVision;","map":{"version":3,"names":["React","Component","jsx","_jsx","jsxs","_jsxs","AddVision","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","handleInputChange","event","_event$target","target","name","value","setState","_defineProperty","handleSubmit","token","localStorage","getItem","fetch","method","headers","concat","body","JSON","stringify","id","videoUrl","state","url","then","response","json","data","vision","console","log","catch","error","onClose","_createClass","key","render","children","className","onClick","type","onChange"],"sources":["/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/src/components/visions/AddVision.js"],"sourcesContent":["import React, { Component } from 'react';\n\nclass AddVision extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            url: '',\n            id: 0,\n            vision: null,\n        };\n    }\n\n    handleInputChange = (event) => {\n        const { name, value } = event.target;\n        this.setState({ [name]: value });\n    };\n\n    handleSubmit = () => {\n        const token = localStorage.getItem('jwtToken');\n        fetch('api/v1/visions/add', {\n            method: 'POST', // или другой метод\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`, // Добавляем токен в заголовок\n            },\n            body: JSON.stringify({\n                id: 0,\n                videoUrl: this.state.url,\n            }),\n        })\n            .then(response => response.json())\n            .then(data => {\n                this.setState({vision: data});\n                console.log(data);\n            })\n            .catch(error => {\n                console.error('Ошибка при запросе к серверу:', error);\n            });\n\n        this.props.onClose();\n    };\n\n    render() {\n        const { onClose } = this.props;\n        const { url } = this.state;\n\n        return (<div>\n                <div className=\"modal\">\n                    <div className=\"modal-content-user\">\n                        <span className=\"close\" onClick={onClose}>&times;</span>\n                        <h2 className=\"h-style\">Add Vision</h2>\n                        <form className=\"form-tr\">\n                            <table>\n                                <tbody>\n                                    <tr>\n                                        <td className=\"table-label\">\n                                            Url:\n                                        </td>\n                                        <td className=\"table-label-edit\">\n                                            <input\n                                                type=\"text\"\n                                                name=\"url\"\n                                                value={url}\n                                                onChange={this.handleInputChange}\n                                            />\n                                        </td>\n                                    </tr>\n                                    </tbody>\n                            </table>\n                            <br/>\n                            <button className=\"button-tr\" type=\"button\" onClick={this.handleSubmit}>Submit</button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default AddVision;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}