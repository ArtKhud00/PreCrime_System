{"ast":null,"code":"var _jsxFileName = \"/home/artem/itmo/MPI/gitrepo/PreCrime_Reborn/frontend/src/components/boss_group/Transport.js\";\nimport React from \"react\";\nimport TableTransport from \"./TableTransport\";\nimport RegTransport from \"./RegTransport\";\nimport Refuel from \"./Refuel\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Transport extends React.Component {\n  constructor(props) {\n    super(props);\n    this.openModal = () => {\n      this.setState({\n        showModal: true\n      });\n    };\n    this.closeModal = () => {\n      this.setState({\n        showModal: false\n      });\n      this.props.renew();\n    };\n    this.openModal_2 = () => {\n      this.setState({\n        showModal_2: true\n      });\n      this.setState({\n        refuel: true\n      });\n    };\n    this.closeModal_2 = () => {\n      this.setState({\n        showModal_2: false\n      });\n      this.setState({\n        refuel: false\n      });\n      this.props.renew();\n    };\n    this.updateState = newValue => {\n      this.setState({\n        idTransport: newValue\n      });\n      console.log(this.state.idTransport);\n    };\n    this.retire = async () => {\n      const token = localStorage.getItem('jwtToken');\n      const putData = {\n        id: this.state.idTransport\n      };\n      const confirmation = window.confirm(`Are you sure retire this transport?`);\n      if (confirmation) {\n        await fetch(`http://localhost:8028/api/v1/reactiongroup/transport/${this.state.idTransport}/retire`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          },\n          body: JSON.stringify(putData)\n        }).then(response => {\n          if (!response.ok) {\n            // Если статус ответа не 2xx (успех), бросаем ошибку\n            throw new Error(response.status);\n          }\n          this.props.onRenew();\n        }).catch(error => {\n          if (error.message === \"404\") window.alert(\"You don't choose position\");\n        });\n      }\n      ;\n      this.props.renew();\n    };\n    this.rehab = async () => {\n      const token = localStorage.getItem('jwtToken');\n      const putData = {\n        id: this.state.idTransport\n      };\n      const confirmation = window.confirm(`Are you sure rehabilitate this transport?`);\n      if (confirmation) {\n        await fetch(`http://localhost:8028/api/v1/reactiongroup/transport/${this.state.idTransport}/rehabilitate`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          },\n          body: JSON.stringify(putData)\n        }).then(response => {\n          if (!response.ok) {\n            // Если статус ответа не 2xx (успех), бросаем ошибку\n            throw new Error(response.status);\n          }\n          this.props.renew();\n        }).catch(error => {\n          if (error.message === \"404\") window.alert(\"You don't choose position\");\n        });\n      }\n      ;\n      this.props.renew();\n    };\n    this.del = async () => {\n      const token = localStorage.getItem('jwtToken');\n      const url = `http://localhost:8028/api/v1/reactiongroup/transport/${this.state.idTransport}`;\n      const confirmation = window.confirm(`Are you sure delete this transport?`);\n      if (confirmation) {\n        fetch(url, {\n          method: 'DELETE',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          }\n        }).then(response => {\n          if (!response.ok) {\n            // Если статус ответа не 2xx (успех), бросаем ошибку\n            throw new Error(response.status);\n          }\n          this.props.renew();\n        }).catch(error => {\n          if (error.message === \"404\") window.alert(\"You don't choose position\");\n        });\n      }\n      ;\n    };\n    this.state = {\n      showModal: false,\n      showModal_2: false,\n      refuel: false,\n      idTransport: 0\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"header-pr\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"acc-vis\",\n          onClick: this.openModal,\n          children: \"Register new transport\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"del-vis\",\n          onClick: this.retire,\n          children: \"Retire\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"acc-vis\",\n          onClick: this.rehab,\n          children: \"Rehabilitate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"acc-vis\",\n          onClick: this.openModal_2,\n          children: \"Refuel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"acc-vis\",\n          onClick: this.del,\n          children: \"Delete transport\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"car-text\",\n        children: \"Transport List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableTransport, {\n        carList: this.props.trans,\n        idTr: this.updateState\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this), this.state.showModal_2 && /*#__PURE__*/_jsxDEV(Refuel, {\n        reff: this.state.refuel,\n        amm: false,\n        onClose: this.closeModal_2,\n        idTr: this.state.idTransport,\n        onRenew: this.props.renew\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 44\n      }, this), this.state.showModal && /*#__PURE__*/_jsxDEV(RegTransport, {\n        onClose: this.closeModal,\n        onRenew: this.props.renew\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 42\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 18\n    }, this);\n  }\n}\nexport default Transport;","map":{"version":3,"names":["React","TableTransport","RegTransport","Refuel","jsxDEV","_jsxDEV","Transport","Component","constructor","props","openModal","setState","showModal","closeModal","renew","openModal_2","showModal_2","refuel","closeModal_2","updateState","newValue","idTransport","console","log","state","retire","token","localStorage","getItem","putData","id","confirmation","window","confirm","fetch","method","headers","body","JSON","stringify","then","response","ok","Error","status","onRenew","catch","error","message","alert","rehab","del","url","render","children","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","carList","trans","idTr","reff","amm","onClose"],"sources":["/home/artem/itmo/MPI/gitrepo/PreCrime_Reborn/frontend/src/components/boss_group/Transport.js"],"sourcesContent":["import React from \"react\";\nimport TableTransport from \"./TableTransport\";\nimport RegTransport from \"./RegTransport\";\nimport Refuel from \"./Refuel\";\nclass Transport extends React.Component {\n    constructor(props) {\n\n        super(props);\n\n        this.state = {\n            showModal: false,\n            showModal_2: false,\n            refuel: false,\n            idTransport:0,\n        }\n\n    }\n\n\n\n    openModal = () => {\n        this.setState({ showModal: true });\n    };\n\n    closeModal = () => {\n        this.setState({showModal: false});\n        this.props.renew();\n    };\n\n    openModal_2 = () => {\n        this.setState({ showModal_2: true });\n        this.setState({ refuel: true });\n    };\n\n    closeModal_2 = () => {\n        this.setState({ showModal_2: false});\n        this.setState({ refuel: false });\n        this.props.renew();\n    };\n\n    updateState = (newValue) => {\n        this.setState({ idTransport: newValue });\n        console.log(this.state.idTransport)\n    };\n\n    retire = async () => {\n        const token = localStorage.getItem('jwtToken');\n        const putData = {\n            id: this.state.idTransport,\n        };\n        const confirmation = window.confirm(`Are you sure retire this transport?`);\n\n        if (confirmation) {\n        await fetch(`http://localhost:8028/api/v1/reactiongroup/transport/${this.state.idTransport}/retire`, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`,\n            },\n            body: JSON.stringify(putData),\n        })\n            .then(response => {\n                if (!response.ok) {\n                    // Если статус ответа не 2xx (успех), бросаем ошибку\n                    throw new Error(response.status);\n                }\n                this.props.onRenew();\n            })\n            .catch(error => {\n                if (error.message ===\"404\")\n                    window.alert(\"You don't choose position\");\n            })};\n        this.props.renew()\n    };\n\n    rehab = async () => {\n        const token = localStorage.getItem('jwtToken');\n        const putData = {\n            id: this.state.idTransport,\n        };\n        const confirmation = window.confirm(`Are you sure rehabilitate this transport?`);\n\n        if (confirmation) {\n        await fetch(`http://localhost:8028/api/v1/reactiongroup/transport/${this.state.idTransport}/rehabilitate`, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`,\n            },\n            body: JSON.stringify(putData),\n        })\n            .then(response => {\n                if (!response.ok) {\n                    // Если статус ответа не 2xx (успех), бросаем ошибку\n                    throw new Error(response.status);\n                }\n                this.props.renew();\n            })\n            .catch(error => {\n                if (error.message ===\"404\")\n                    window.alert(\"You don't choose position\");\n            })};\n        this.props.renew()\n    };\n\n    del = async () => {\n        const token = localStorage.getItem('jwtToken');\n        const url = `http://localhost:8028/api/v1/reactiongroup/transport/${this.state.idTransport}`;\n        const confirmation = window.confirm(`Are you sure delete this transport?`);\n\n        if (confirmation) {\n        fetch(url, {\n            method: 'DELETE',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`,\n            },\n        })\n            .then(response => {\n                if (!response.ok) {\n                    // Если статус ответа не 2xx (успех), бросаем ошибку\n                    throw new Error(response.status);\n                }\n                this.props.renew();\n            })\n            .catch(error => {\n                if (error.message ===\"404\")\n                    window.alert(\"You don't choose position\");\n            })};\n\n    };\n\n    render() {\n        return ( <div>\n\n                <header className=\"header-pr\">\n                    <button className=\"acc-vis\" onClick={this.openModal}>Register new transport</button>\n                    <button className=\"del-vis\" onClick={this.retire} >Retire</button>\n                    <button className=\"acc-vis\" onClick={this.rehab}>Rehabilitate</button>\n                    <button className=\"acc-vis\" onClick={this.openModal_2}>Refuel</button>\n                    <button className=\"acc-vis\" onClick={this.del}>Delete transport</button>\n                </header>\n                <h1 className=\"car-text\">Transport List</h1>\n                <TableTransport carList={this.props.trans} idTr={this.updateState}/>\n                {this.state.showModal_2 && <Refuel reff={this.state.refuel} amm={false} onClose={this.closeModal_2} idTr={this.state.idTransport} onRenew={this.props.renew}/>}\n                {this.state.showModal && <RegTransport onClose={this.closeModal} onRenew={this.props.renew} />}\n            </div>\n        )\n    }\n}\n\nexport default Transport"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,cAAc,MAAM,kBAAkB;AAC7C,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAOC,MAAM,MAAM,UAAU;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAC9B,MAAMC,SAAS,SAASN,KAAK,CAACO,SAAS,CAAC;EACpCC,WAAWA,CAACC,KAAK,EAAE;IAEf,KAAK,CAACA,KAAK,CAAC;IAAC,KAajBC,SAAS,GAAG,MAAM;MACd,IAAI,CAACC,QAAQ,CAAC;QAAEC,SAAS,EAAE;MAAK,CAAC,CAAC;IACtC,CAAC;IAAA,KAEDC,UAAU,GAAG,MAAM;MACf,IAAI,CAACF,QAAQ,CAAC;QAACC,SAAS,EAAE;MAAK,CAAC,CAAC;MACjC,IAAI,CAACH,KAAK,CAACK,KAAK,CAAC,CAAC;IACtB,CAAC;IAAA,KAEDC,WAAW,GAAG,MAAM;MAChB,IAAI,CAACJ,QAAQ,CAAC;QAAEK,WAAW,EAAE;MAAK,CAAC,CAAC;MACpC,IAAI,CAACL,QAAQ,CAAC;QAAEM,MAAM,EAAE;MAAK,CAAC,CAAC;IACnC,CAAC;IAAA,KAEDC,YAAY,GAAG,MAAM;MACjB,IAAI,CAACP,QAAQ,CAAC;QAAEK,WAAW,EAAE;MAAK,CAAC,CAAC;MACpC,IAAI,CAACL,QAAQ,CAAC;QAAEM,MAAM,EAAE;MAAM,CAAC,CAAC;MAChC,IAAI,CAACR,KAAK,CAACK,KAAK,CAAC,CAAC;IACtB,CAAC;IAAA,KAEDK,WAAW,GAAIC,QAAQ,IAAK;MACxB,IAAI,CAACT,QAAQ,CAAC;QAAEU,WAAW,EAAED;MAAS,CAAC,CAAC;MACxCE,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,KAAK,CAACH,WAAW,CAAC;IACvC,CAAC;IAAA,KAEDI,MAAM,GAAG,YAAY;MACjB,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;MAC9C,MAAMC,OAAO,GAAG;QACZC,EAAE,EAAE,IAAI,CAACN,KAAK,CAACH;MACnB,CAAC;MACD,MAAMU,YAAY,GAAGC,MAAM,CAACC,OAAO,CAAE,qCAAoC,CAAC;MAE1E,IAAIF,YAAY,EAAE;QAClB,MAAMG,KAAK,CAAE,wDAAuD,IAAI,CAACV,KAAK,CAACH,WAAY,SAAQ,EAAE;UACjGc,MAAM,EAAE,KAAK;UACbC,OAAO,EAAE;YACL,cAAc,EAAE,kBAAkB;YAClC,eAAe,EAAG,UAASV,KAAM;UACrC,CAAC;UACDW,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACV,OAAO;QAChC,CAAC,CAAC,CACGW,IAAI,CAACC,QAAQ,IAAI;UACd,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;YACd;YACA,MAAM,IAAIC,KAAK,CAACF,QAAQ,CAACG,MAAM,CAAC;UACpC;UACA,IAAI,CAACnC,KAAK,CAACoC,OAAO,CAAC,CAAC;QACxB,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;UACZ,IAAIA,KAAK,CAACC,OAAO,KAAI,KAAK,EACtBhB,MAAM,CAACiB,KAAK,CAAC,2BAA2B,CAAC;QACjD,CAAC,CAAC;MAAA;MAAC;MACP,IAAI,CAACxC,KAAK,CAACK,KAAK,CAAC,CAAC;IACtB,CAAC;IAAA,KAEDoC,KAAK,GAAG,YAAY;MAChB,MAAMxB,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;MAC9C,MAAMC,OAAO,GAAG;QACZC,EAAE,EAAE,IAAI,CAACN,KAAK,CAACH;MACnB,CAAC;MACD,MAAMU,YAAY,GAAGC,MAAM,CAACC,OAAO,CAAE,2CAA0C,CAAC;MAEhF,IAAIF,YAAY,EAAE;QAClB,MAAMG,KAAK,CAAE,wDAAuD,IAAI,CAACV,KAAK,CAACH,WAAY,eAAc,EAAE;UACvGc,MAAM,EAAE,KAAK;UACbC,OAAO,EAAE;YACL,cAAc,EAAE,kBAAkB;YAClC,eAAe,EAAG,UAASV,KAAM;UACrC,CAAC;UACDW,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACV,OAAO;QAChC,CAAC,CAAC,CACGW,IAAI,CAACC,QAAQ,IAAI;UACd,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;YACd;YACA,MAAM,IAAIC,KAAK,CAACF,QAAQ,CAACG,MAAM,CAAC;UACpC;UACA,IAAI,CAACnC,KAAK,CAACK,KAAK,CAAC,CAAC;QACtB,CAAC,CAAC,CACDgC,KAAK,CAACC,KAAK,IAAI;UACZ,IAAIA,KAAK,CAACC,OAAO,KAAI,KAAK,EACtBhB,MAAM,CAACiB,KAAK,CAAC,2BAA2B,CAAC;QACjD,CAAC,CAAC;MAAA;MAAC;MACP,IAAI,CAACxC,KAAK,CAACK,KAAK,CAAC,CAAC;IACtB,CAAC;IAAA,KAEDqC,GAAG,GAAG,YAAY;MACd,MAAMzB,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;MAC9C,MAAMwB,GAAG,GAAI,wDAAuD,IAAI,CAAC5B,KAAK,CAACH,WAAY,EAAC;MAC5F,MAAMU,YAAY,GAAGC,MAAM,CAACC,OAAO,CAAE,qCAAoC,CAAC;MAE1E,IAAIF,YAAY,EAAE;QAClBG,KAAK,CAACkB,GAAG,EAAE;UACPjB,MAAM,EAAE,QAAQ;UAChBC,OAAO,EAAE;YACL,cAAc,EAAE,kBAAkB;YAClC,eAAe,EAAG,UAASV,KAAM;UACrC;QACJ,CAAC,CAAC,CACGc,IAAI,CAACC,QAAQ,IAAI;UACd,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;YACd;YACA,MAAM,IAAIC,KAAK,CAACF,QAAQ,CAACG,MAAM,CAAC;UACpC;UACA,IAAI,CAACnC,KAAK,CAACK,KAAK,CAAC,CAAC;QACtB,CAAC,CAAC,CACDgC,KAAK,CAACC,KAAK,IAAI;UACZ,IAAIA,KAAK,CAACC,OAAO,KAAI,KAAK,EACtBhB,MAAM,CAACiB,KAAK,CAAC,2BAA2B,CAAC;QACjD,CAAC,CAAC;MAAA;MAAC;IAEX,CAAC;IAzHG,IAAI,CAACzB,KAAK,GAAG;MACTZ,SAAS,EAAE,KAAK;MAChBI,WAAW,EAAE,KAAK;MAClBC,MAAM,EAAE,KAAK;MACbI,WAAW,EAAC;IAChB,CAAC;EAEL;EAoHAgC,MAAMA,CAAA,EAAG;IACL,oBAAShD,OAAA;MAAAiD,QAAA,gBAEDjD,OAAA;QAAQkD,SAAS,EAAC,WAAW;QAAAD,QAAA,gBACzBjD,OAAA;UAAQkD,SAAS,EAAC,SAAS;UAACC,OAAO,EAAE,IAAI,CAAC9C,SAAU;UAAA4C,QAAA,EAAC;QAAsB;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACpFvD,OAAA;UAAQkD,SAAS,EAAC,SAAS;UAACC,OAAO,EAAE,IAAI,CAAC/B,MAAO;UAAA6B,QAAA,EAAE;QAAM;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAClEvD,OAAA;UAAQkD,SAAS,EAAC,SAAS;UAACC,OAAO,EAAE,IAAI,CAACN,KAAM;UAAAI,QAAA,EAAC;QAAY;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACtEvD,OAAA;UAAQkD,SAAS,EAAC,SAAS;UAACC,OAAO,EAAE,IAAI,CAACzC,WAAY;UAAAuC,QAAA,EAAC;QAAM;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACtEvD,OAAA;UAAQkD,SAAS,EAAC,SAAS;UAACC,OAAO,EAAE,IAAI,CAACL,GAAI;UAAAG,QAAA,EAAC;QAAgB;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpE,CAAC,eACTvD,OAAA;QAAIkD,SAAS,EAAC,UAAU;QAAAD,QAAA,EAAC;MAAc;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC5CvD,OAAA,CAACJ,cAAc;QAAC4D,OAAO,EAAE,IAAI,CAACpD,KAAK,CAACqD,KAAM;QAACC,IAAI,EAAE,IAAI,CAAC5C;MAAY;QAAAsC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC,CAAC,EACnE,IAAI,CAACpC,KAAK,CAACR,WAAW,iBAAIX,OAAA,CAACF,MAAM;QAAC6D,IAAI,EAAE,IAAI,CAACxC,KAAK,CAACP,MAAO;QAACgD,GAAG,EAAE,KAAM;QAACC,OAAO,EAAE,IAAI,CAAChD,YAAa;QAAC6C,IAAI,EAAE,IAAI,CAACvC,KAAK,CAACH,WAAY;QAACwB,OAAO,EAAE,IAAI,CAACpC,KAAK,CAACK;MAAM;QAAA2C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC,CAAC,EAC7J,IAAI,CAACpC,KAAK,CAACZ,SAAS,iBAAIP,OAAA,CAACH,YAAY;QAACgE,OAAO,EAAE,IAAI,CAACrD,UAAW;QAACgC,OAAO,EAAE,IAAI,CAACpC,KAAK,CAACK;MAAM;QAAA2C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7F,CAAC;EAEd;AACJ;AAEA,eAAetD,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}