{"ast":null,"code":"var _jsxFileName = \"/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/src/components/boss_group/Transport.js\";\nimport React from \"react\";\nimport TableTransport from \"./TableTransport\";\nimport RegTransport from \"./RegTransport\";\nimport Refuel from \"./Refuel\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Transport extends React.Component {\n  constructor(props) {\n    super(props);\n    this.openModal = () => {\n      this.setState({\n        showModal: true\n      });\n    };\n    this.closeModal = () => {\n      this.setState({\n        showModal: false\n      });\n      this.props.renew();\n    };\n    this.openModal_2 = () => {\n      this.setState({\n        showModal_2: true\n      });\n      this.setState({\n        refuel: true\n      });\n    };\n    this.closeModal_2 = () => {\n      this.setState({\n        showModal_2: false\n      });\n      this.setState({\n        refuel: false\n      });\n      this.props.renew();\n    };\n    this.updateState = newValue => {\n      this.setState({\n        idTransport: newValue\n      });\n      console.log(this.state.idTransport);\n    };\n    this.retire = async () => {\n      const token = localStorage.getItem('jwtToken');\n      const putData = {\n        id: this.state.idTransport\n      };\n      await fetch(`http://localhost:8028/api/v1/reactiongroup/transport/${this.state.idTransport}/retire`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify(putData)\n      }).then(response => response.json()).then(updatedData => {\n        console.log('Данные успешно обновлены:', updatedData);\n      }).catch(error => {\n        console.error('Ошибка при запросе к серверу:', error);\n      });\n      this.props.renew();\n    };\n    this.rehab = async () => {\n      const token = localStorage.getItem('jwtToken');\n      const putData = {\n        id: this.state.idTransport\n      };\n      await fetch(`http://localhost:8028/api/v1/reactiongroup/transport/${this.state.idTransport}/rehabilitate`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify(putData)\n      }).then(response => response.json()).then(updatedData => {\n        console.log('Данные успешно обновлены:', updatedData);\n      }).catch(error => {\n        console.error('Ошибка при запросе к серверу:', error);\n      });\n      this.props.renew();\n    };\n    this.del = async () => {\n      const token = localStorage.getItem('jwtToken');\n      const url = `http://localhost:8028/api/v1/reactiongroup/transport/${this.state.idTransport}`;\n      fetch(url, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        }\n      }).then(response => {\n        if (!response.ok) {\n          throw new Error('Ошибка сети или сервера');\n        }\n        console.log('Данные успешно удалены');\n        this.props.renew();\n      }).catch(error => {\n        console.error('Ошибка при запросе к серверу:', error);\n      });\n    };\n    this.state = {\n      showModal: false,\n      showModal_2: false,\n      refuel: false,\n      idTransport: 0\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"car-text\",\n        children: \"Transport List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableTransport, {\n        carList: this.props.trans,\n        idTr: this.updateState\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"new-transport\",\n        onClick: this.openModal,\n        children: \"Register new transport\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this), this.state.showModal && /*#__PURE__*/_jsxDEV(RegTransport, {\n        onClose: this.closeModal,\n        onRenew: this.props.renew\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 42\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"ret-transport\",\n        onClick: this.retire,\n        children: \"Retire\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"reh-transport\",\n        onClick: this.rehab,\n        children: \"Rehabilitate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"ref-transport\",\n        onClick: this.openModal_2,\n        children: \"Refuel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this), this.state.showModal_2 && /*#__PURE__*/_jsxDEV(Refuel, {\n        reff: this.state.refuel,\n        amm: false,\n        onClose: this.closeModal_2,\n        idTr: this.state.idTransport,\n        onRenew: this.props.renew\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 44\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"del-transport\",\n        onClick: this.del,\n        children: \"Delete transport\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 18\n    }, this);\n  }\n}\nexport default Transport;","map":{"version":3,"names":["React","TableTransport","RegTransport","Refuel","jsxDEV","_jsxDEV","Transport","Component","constructor","props","openModal","setState","showModal","closeModal","renew","openModal_2","showModal_2","refuel","closeModal_2","updateState","newValue","idTransport","console","log","state","retire","token","localStorage","getItem","putData","id","fetch","method","headers","body","JSON","stringify","then","response","json","updatedData","catch","error","rehab","del","url","ok","Error","render","children","className","fileName","_jsxFileName","lineNumber","columnNumber","carList","trans","idTr","onClick","onClose","onRenew","reff","amm"],"sources":["/home/mrvito/MyJavaRep/PreCrime_Reborn/frontend/src/components/boss_group/Transport.js"],"sourcesContent":["import React from \"react\";\nimport TableTransport from \"./TableTransport\";\nimport RegTransport from \"./RegTransport\";\nimport Refuel from \"./Refuel\";\nclass Transport extends React.Component {\n    constructor(props) {\n\n        super(props);\n\n        this.state = {\n            showModal: false,\n            showModal_2: false,\n            refuel: false,\n            idTransport:0,\n        }\n\n    }\n\n\n\n    openModal = () => {\n        this.setState({ showModal: true });\n    };\n\n    closeModal = () => {\n        this.setState({showModal: false});\n        this.props.renew();\n    };\n\n    openModal_2 = () => {\n        this.setState({ showModal_2: true });\n        this.setState({ refuel: true });\n    };\n\n    closeModal_2 = () => {\n        this.setState({ showModal_2: false});\n        this.setState({ refuel: false });\n        this.props.renew();\n    };\n\n    updateState = (newValue) => {\n        this.setState({ idTransport: newValue });\n        console.log(this.state.idTransport)\n    };\n\n    retire = async () => {\n        const token = localStorage.getItem('jwtToken');\n        const putData = {\n            id: this.state.idTransport,\n        };\n\n        await fetch(`http://localhost:8028/api/v1/reactiongroup/transport/${this.state.idTransport}/retire`, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`,\n            },\n            body: JSON.stringify(putData),\n        })\n            .then(response => response.json())\n            .then(updatedData => {\n                console.log('Данные успешно обновлены:', updatedData);\n            })\n            .catch(error => {\n                console.error('Ошибка при запросе к серверу:', error);\n            });\n        this.props.renew()\n    };\n\n    rehab = async () => {\n        const token = localStorage.getItem('jwtToken');\n        const putData = {\n            id: this.state.idTransport,\n        };\n\n        await fetch(`http://localhost:8028/api/v1/reactiongroup/transport/${this.state.idTransport}/rehabilitate`, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`,\n            },\n            body: JSON.stringify(putData),\n        })\n            .then(response => response.json())\n            .then(updatedData => {\n                console.log('Данные успешно обновлены:', updatedData);\n            })\n            .catch(error => {\n                console.error('Ошибка при запросе к серверу:', error);\n            });\n        this.props.renew()\n    };\n\n    del = async () => {\n        const token = localStorage.getItem('jwtToken');\n        const url = `http://localhost:8028/api/v1/reactiongroup/transport/${this.state.idTransport}`;\n\n        fetch(url, {\n            method: 'DELETE',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`,\n            },\n        })\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error('Ошибка сети или сервера');\n                }\n                console.log('Данные успешно удалены');\n                this.props.renew()\n            })\n            .catch(error => {\n                console.error('Ошибка при запросе к серверу:', error);\n            });\n\n    };\n\n    render() {\n        return ( <div>\n                <h1 className=\"car-text\">Transport List</h1>\n                <TableTransport carList={this.props.trans} idTr={this.updateState}/>\n\n                <button className=\"new-transport\" onClick={this.openModal}>Register new transport</button>\n                {this.state.showModal && <RegTransport onClose={this.closeModal} onRenew={this.props.renew} />}\n                <button className=\"ret-transport\" onClick={this.retire} >Retire</button>\n                <button className=\"reh-transport\" onClick={this.rehab}>Rehabilitate</button>\n                <button className=\"ref-transport\" onClick={this.openModal_2}>Refuel</button>\n                {this.state.showModal_2 && <Refuel reff={this.state.refuel} amm={false} onClose={this.closeModal_2} idTr={this.state.idTransport} onRenew={this.props.renew}/>}\n                <button className=\"del-transport\" onClick={this.del}>Delete transport</button>\n            </div>\n        )\n    }\n}\n\nexport default Transport"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}